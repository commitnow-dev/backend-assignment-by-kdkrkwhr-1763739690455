
# TODO ê´€ë¦¬ API ê°œë°œ

## âœï¸ ê³¼ì œì˜ ê°œìš”

| ì¹´í…Œê³ ë¦¬ | ë‚œì´ë„ | ì œí•œì‹œê°„ |
|----------|--------|----------|
| backend | normal | 7d |

### ğŸ’» ê³¼ì œì—ì„œ ìš”êµ¬í•˜ëŠ” ê°œë°œì–¸ì–´

- sql
- java


## ğŸ“œ ê³¼ì œì˜ ë‚´ìš©

> ê³¼ì œ ì„¤ëª…ê³¼ ìš”êµ¬ì‚¬í•­ì„ ì°¸ê³ í•˜ì—¬, êµ¬í˜„í•´ ì£¼ì„¸ìš”.

### ğŸ‘€ ê³¼ì œì˜ ì„¤ëª…

# ê³¼ì œ ê°€ì´ë“œ

## ê°œìš”

ê°œì¸ë³„ í•  ì¼ ëª©ë¡ì„ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” RESTful APIë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.

ì£¼ìš” ë²”ìœ„ëŠ” íšŒì›ê°€ì…/ë¡œê·¸ì¸ â†’ ì¹´í…Œê³ ë¦¬ ê´€ë¦¬ â†’ TODO ìƒì„±/ìˆ˜ì •/ì‚­ì œ â†’ ìƒíƒœ ë³€ê²½(TODO/IN\_PROGRESS/DONE) â†’ ì¡°íšŒ ë° í•„í„°ë§ ì „ ê³¼ì •ì´ë©°, RESTful API ì„¤ê³„Â·ì¸ì¦/ì¸ê°€Â·ì˜ˆì™¸ ì²˜ë¦¬Â·íŠ¸ëœì­ì…˜ ê´€ë¦¬ë¥¼ ì¤‘ì  í‰ê°€í•©ë‹ˆë‹¤.

â€‹

### ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤

#### ì‹œë‚˜ë¦¬ì˜¤ 1: íšŒì›ê°€ì… ë° ë¡œê·¸ì¸

1. ì‚¬ìš©ìê°€ íšŒì›ê°€ì…ì„ ì§„í–‰í•©ë‹ˆë‹¤ (ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸, ë‹‰ë„¤ì„ ì…ë ¥)
2. íšŒì›ê°€ì… ì™„ë£Œ í›„ ë¡œê·¸ì¸ì„ ì‹œë„í•©ë‹ˆë‹¤
3. ë¡œê·¸ì¸ ì„±ê³µ ì‹œ JWT í† í°ì„ ë°›ìŠµë‹ˆë‹¤
4. ì´í›„ ëª¨ë“  API ìš”ì²­ ì‹œ ë°›ì€ í† í°ì„ Authorization í—¤ë”ì— í¬í•¨í•˜ì—¬ ìš”ì²­í•©ë‹ˆë‹¤

#### ì‹œë‚˜ë¦¬ì˜¤ 2: ì¹´í…Œê³ ë¦¬ ìƒì„± ë° TODO ê´€ë¦¬

1. ì‚¬ìš©ìê°€ "ì—…ë¬´", "ê°œì¸", "í•™ìŠµ" ë“±ì˜ ì¹´í…Œê³ ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
2. ê° ì¹´í…Œê³ ë¦¬ì—ëŠ” ìƒ‰ìƒì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ì„ íƒì‚¬í•­)
3. TODOë¥¼ ìƒì„±í•  ë•Œ ì¹´í…Œê³ ë¦¬ë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ì„ íƒì‚¬í•­)
4. TODOëŠ” ì œëª©, ë‚´ìš©, ë§ˆê°ì¼ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

#### ì‹œë‚˜ë¦¬ì˜¤ 3: TODO ìƒíƒœ ê´€ë¦¬

1. ì‚¬ìš©ìê°€ ìƒì„±í•œ TODOëŠ” ê¸°ë³¸ì ìœ¼ë¡œ "TODO" ìƒíƒœì…ë‹ˆë‹¤
2. ì‘ì—…ì„ ì‹œì‘í•˜ë©´ ìƒíƒœë¥¼ "IN\_PROGRESS"ë¡œ ë³€ê²½í•©ë‹ˆë‹¤
3. ì‘ì—…ì´ ì™„ë£Œë˜ë©´ "DONE" ìƒíƒœë¡œ ë³€ê²½í•˜ê³  ì™„ë£Œ ì‹œê°„ì´ ê¸°ë¡ë©ë‹ˆë‹¤
4. TODO ëª©ë¡ì„ ì¡°íšŒí•  ë•Œ ìƒíƒœë³„ë¡œ í•„í„°ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

#### ì‹œë‚˜ë¦¬ì˜¤ 4: TODO ì¡°íšŒ ë° ê²€ìƒ‰

1. ì‚¬ìš©ìëŠ” ìì‹ ì˜ TODO ëª©ë¡ì„ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
2. ìƒíƒœ, ì¹´í…Œê³ ë¦¬ ë³„ë¡œ í•„í„°ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
3. ìƒíƒœ, ë§ˆê°ì¼, ì¹´í…Œê³ ë¦¬ë“±ìœ¼ë¡œ ì •ë ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

#### ì‹œë‚˜ë¦¬ì˜¤ 5: ê¶Œí•œ ê´€ë¦¬

1. ì‚¬ìš©ìëŠ” ìì‹ ì´ ìƒì„±í•œ TODOë§Œ ì¡°íšŒ/ìˆ˜ì •/ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
2. ë‹¤ë¥¸ ì‚¬ìš©ìì˜ TODOì— ì ‘ê·¼í•˜ë ¤ê³  í•˜ë©´ ê¶Œí•œ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤
3. ì¹´í…Œê³ ë¦¬ë„ ë§ˆì°¬ê°€ì§€ë¡œ ì†Œìœ ìë§Œ ìˆ˜ì •/ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

## í•„ìš”í•œ API ëª©ë¡

#### ì¸ì¦

* **POST** `/api/auth/signup` : íšŒì›ê°€ì… (ì´ë©”ì¼ ì¤‘ë³µ ì²´í¬, ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”)
* **POST** `/api/auth/login` : ë¡œê·¸ì¸ (JWT í† í° ë°œê¸‰)
* **GET** `/api/users/me` : í˜„ì¬ ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ (ì¸ì¦ í•„ìš”)

#### ì¹´í…Œê³ ë¦¬

* **POST** `/api/categories` : ì¹´í…Œê³ ë¦¬ ìƒì„± (ì¸ì¦ í•„ìš”)
* **GET** `/api/categories` : ì¹´í…Œê³ ë¦¬ ëª©ë¡ ì¡°íšŒ (ì¸ì¦ í•„ìš”, ì‚¬ìš©ìë³„)
* **PUT** `/api/categories/:categoryId` : ì¹´í…Œê³ ë¦¬ ìˆ˜ì • (ì¸ì¦ í•„ìš”, ì†Œìœ ìë§Œ)
* **DELETE** `/api/categories/:categoryId` : ì¹´í…Œê³ ë¦¬ ì‚­ì œ (ì¸ì¦ í•„ìš”, ì†Œìœ ìë§Œ)

#### TODO

* **POST** `/api/todos` : TODO ìƒì„± (ì¸ì¦ í•„ìš”, ì œëª© í•„ìˆ˜)
* **GET** `/api/todos` : TODO ëª©ë¡ ì¡°íšŒ (ì¸ì¦ í•„ìš”, í˜ì´ì§• í•„ìˆ˜)
* **GET** `/api/todos/:todoId` : TODO ìƒì„¸ ì¡°íšŒ (ì¸ì¦ í•„ìš”, ì‘ì„±ìë§Œ)
* **PUT** `/api/todos/:todoId` : TODO ìˆ˜ì • (ì¸ì¦ í•„ìš”, ì‘ì„±ìë§Œ)
* **DELETE** `/api/todos/:todoId` : TODO ì‚­ì œ (ì¸ì¦ í•„ìš”, ì‘ì„±ìë§Œ)
* **PATCH** `/api/todos/:todoId/complete` : TODO ì™„ë£Œ ì²˜ë¦¬ (ì¸ì¦ í•„ìš”, ìƒíƒœ DONE, completedAt ìë™ ì„¤ì •)

#### ì„ íƒ ê¸°ëŠ¥

* **GET** `/api/todos/search` : TODO ê²€ìƒ‰ (ì œëª©/ë‚´ìš©, ì¸ì¦ í•„ìš”)
* **GET** `/api/todos/statistics` : TODO í†µê³„ ì¡°íšŒ (ì¸ì¦ í•„ìš”, ìƒíƒœ/ìš°ì„ ìˆœìœ„/ì¹´í…Œê³ ë¦¬ë³„ ë¶„í¬, ì™„ë£Œìœ¨)
* **GET** `/api/todos/upcoming?days=` : ë§ˆê°ì¼ ì„ë°• TODO ì¡°íšŒ (ì¸ì¦ í•„ìš”, ê¸°ë³¸ê°’ 7ì¼)

***

### ERD (Entity Relationship Diagram)

```
User (ì‚¬ìš©ì)
â”œâ”€â”€ id (PK)
â”œâ”€â”€ email (UNIQUE, NOT NULL)
â”œâ”€â”€ password (NOT NULL)
â”œâ”€â”€ nickname (NOT NULL)
â”œâ”€â”€ created_at
â””â”€â”€ updated_at

Category (ì¹´í…Œê³ ë¦¬)
â”œâ”€â”€ id (PK)
â”œâ”€â”€ user_id (FK -> User.id)
â”œâ”€â”€ name (NOT NULL)
â”œâ”€â”€ color (ìƒ‰ìƒ ì½”ë“œ, ì„ íƒì‚¬í•­)
â”œâ”€â”€ created_at
â””â”€â”€ updated_at

Todo (í•  ì¼)
â”œâ”€â”€ id (PK)
â”œâ”€â”€ user_id (FK -> User.id)
â”œâ”€â”€ category_id (FK -> Category.id, NULL ê°€ëŠ¥)
â”œâ”€â”€ title (NOT NULL)
â”œâ”€â”€ content
â”œâ”€â”€ priority (ENUM: LOW, MEDIUM, HIGH)
â”œâ”€â”€ status (ENUM: TODO, IN_PROGRESS, DONE)
â”œâ”€â”€ due_date (ë§ˆê°ì¼, NULL ê°€ëŠ¥)
â”œâ”€â”€ completed_at (ì™„ë£Œ ì¼ì‹œ, NULL ê°€ëŠ¥)
â”œâ”€â”€ created_at
â””â”€â”€ updated_at
```

### ì—”í‹°í‹° ìƒì„¸ ì„¤ê³„

#### User ì—”í‹°í‹°

```java
- id: Long (PK, ìë™ ì¦ê°€)
- email: String (UNIQUE, NOT NULL, ì´ë©”ì¼ í˜•ì‹ ê²€ì¦)
- password: String (NOT NULL, ì•”í˜¸í™” ì €ì¥)
- nickname: String (NOT NULL, 2-20ì)
- createdAt: LocalDateTime
- updatedAt: LocalDateTime
```

#### Category ì—”í‹°í‹°

```java
- id: Long (PK, ìë™ ì¦ê°€)
- user: User (ManyToOne, ì‚¬ìš©ìë³„ ì¹´í…Œê³ ë¦¬)
- name: String (NOT NULL, 1-50ì)
- color: String (ìƒ‰ìƒ ì½”ë“œ, ì˜ˆ: #FF5733, ì„ íƒì‚¬í•­)
- createdAt: LocalDateTime
- updatedAt: LocalDateTime
```

#### Todo ì—”í‹°í‹°

```java
- id: Long (PK, ìë™ ì¦ê°€)
- user: User (ManyToOne, ì‘ì„±ì)
- category: Category (ManyToOne, NULL ê°€ëŠ¥)
- title: String (NOT NULL, 1-100ì)
- content: String (ìµœëŒ€ 1000ì)
- priority: Priority (ENUM: LOW, MEDIUM, HIGH, ê¸°ë³¸ê°’: MEDIUM)
- status: TodoStatus (ENUM: TODO, IN_PROGRESS, DONE, ê¸°ë³¸ê°’: TODO)
- dueDate: LocalDateTime (NULL ê°€ëŠ¥)
- completedAt: LocalDateTime (NULL ê°€ëŠ¥, ì™„ë£Œ ì‹œ ìë™ ì„¤ì •)
- createdAt: LocalDateTime
- updatedAt: LocalDateTime
```

â€‹


### ğŸ¯ ê³¼ì œì˜ ìš”êµ¬ì‚¬í•­

- RESTful API ì„¤ê³„ ì›ì¹™ ì¤€ìˆ˜ (ë¦¬ì†ŒìŠ¤ ì¤‘ì‹¬ URL, ì ì ˆí•œ HTTP ë©”ì„œë“œ ì‚¬ìš©)
- ì ì ˆí•œ HTTP ìƒíƒœ ì½”ë“œ ì‚¬ìš© (200, 201, 400, 401, 403, 404, 409, 500 ë“±)
- TODOì™€ ì¹´í…Œê³ ë¦¬ëŠ” ì†Œìœ ìë§Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ ê¶Œí•œ ê²€ì¦
- Global Exception Handler êµ¬í˜„
- Bean Validation ì‚¬ìš© (`@Valid`, `@NotNull`, `@Size`, `@Email` ë“±)
- JPAë¥¼ í™œìš©í•œ ì—”í‹°í‹° ì„¤ê³„ ë° ì ì ˆí•œ ì—°ê´€ê´€ê³„ ë§¤í•‘ (ManyToOne, OneToMany)
- ë¹„ë°€ë²ˆí˜¸ëŠ” ë°˜ë“œì‹œ ì•”í˜¸í™” ì €ì¥ (BCrypt ê¶Œì¥)
- DTO ì‚¬ìš© (Entity ì§ì ‘ ë°˜í™˜ ì§€ì–‘)
- í´ë˜ìŠ¤ ê³„ì¸µë³„ ì±…ì„ ë¶„ë¦¬
- `@Transactional` ì–´ë…¸í…Œì´ì…˜ ì´ìš©í•œ íŠ¸ë Œì­ì…˜ ì²˜ë¦¬ (íŠ¸ë Œì­ì…˜ ê²©ë¦¬ìˆ˜ì¤€ ì´í•´)
